// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.28.1
// 	protoc        v3.19.6
// source: tinypenguin/common.proto

syntax = "proto3";

package tinypenguin;
option go_package = "example.com/tinypenguin/pkg/pb";

// Common types used across the tinypenguin system

message ToolUseResult {
  string status = 1;        // "success", "error", "denied"
  string message = 2;       // Human-readable message
  string tool_name = 3;     // Name of the tool that was executed
  string tool_output = 4;   // Output from the tool execution
  string error_details = 5; // Detailed error information if status is "error"
}

message TinyllamaRequest {
  string model = 1;           // Model name for tinyllama
  string prompt = 2;          // The prompt to send to tinyllama
  repeated ToolDefinition available_tools = 3; // Tools available to the model
  map<string, string> metadata = 4; // Additional metadata
}

message TinyllamaResponse {
  string content = 1;         // Response content from tinyllama
  bool has_tool_calls = 2;    // Whether the response contains tool calls
  repeated ToolCall tool_calls = 3; // Tool calls made by the model
  string finish_reason = 4;   // Why the response finished (stop, length, tool_calls, etc.)
  int32 usage_tokens = 5;     // Number of tokens used
}

message ToolDefinition {
  string name = 1;            // Tool name
  string description = 2;     // Tool description
  map<string, ToolParameter> parameters = 3; // Tool parameters
}

message ToolParameter {
  string type = 1;            // Parameter type (string, number, boolean, etc.)
  string description = 2;     // Parameter description
  bool required = 3;          // Whether this parameter is required
}

message ToolCall {
  string id = 1;              // Unique identifier for this tool call
  string name = 2;            // Tool name being called
  map<string, string> arguments = 3; // Arguments for the tool call
}

message FileOperation {
  string path = 1;            // File path
  oneof operation {
    string content = 2;       // Direct content for write operations
    string diff = 3;          // Diff content for replace operations
  }
}

message CommandOperation {
  string command = 1;         // Command to execute
  string working_directory = 2; // Working directory (optional)
  int32 timeout_seconds = 3;  // Timeout in seconds (optional)
  bool requires_approval = 4; // Whether this command requires user approval
}

// Configuration for RHCSA/bash operations
message RHCSAConfig {
  bool enable_privileged_commands = 1; // Allow sudo commands
  repeated string allowed_packages = 2; // Package names that can be installed
  repeated string protected_paths = 3;  // Paths that require extra approval
  bool require_command_validation = 4;  // Validate commands before execution
}